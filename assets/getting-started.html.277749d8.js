import{_ as c,r as t,o as r,c as i,b as s,d as a,w as e,a as o,e as n}from"./app.6f19168f.js";const D={},d=o(`<h1 id="getting-started-with-knockout" tabindex="-1"><a class="header-anchor" href="#getting-started-with-knockout" aria-hidden="true">#</a> Getting Started with Knockout</h1><h2 id="creating-a-project" tabindex="-1"><a class="header-anchor" href="#creating-a-project" aria-hidden="true">#</a> Creating a Project</h2><p>The quickest and easiest way to create a new Coalesce Knockout application is to use the <code>dotnet new</code> template. In your favorite shell:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">dotnet new --install IntelliTect.Coalesce.KnockoutJS.Template</span></span>
<span class="line"><span style="color:#D4D4D4;">dotnet new coalesceko</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,4),y={href:"https://www.nuget.org/packages/IntelliTect.Coalesce.KnockoutJS.Template/",target:"_blank",rel:"noopener noreferrer"},u=s("img",{src:"https://img.shields.io/nuget/v/IntelliTect.Coalesce.KnockoutJS.Template",alt:""},null,-1),C=n(" \u2022 "),v={href:"https://github.com/IntelliTect/Coalesce.KnockoutJS.Template",target:"_blank",rel:"noopener noreferrer"},m=n("View on GitHub"),h=s("h2",{id:"data-modeling",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#data-modeling","aria-hidden":"true"},"#"),n(" Data Modeling")],-1),b=s("p",null,"At this point, you can open up the newly-created solution in Visual Studio and run your application. However, your application won't do much without a data model, so you will probably want to do the following before running:",-1),g=n("Create an initial "),_=n("Data Model"),E=n(" by adding EF entity classes to the data project and the corresponding "),w=s("code",null,"DbSet<>",-1),f=n(" properties to "),k=s("code",null,"AppDbContext",-1),A=n(". You will notice that the starter project includes a single model, "),F=s("code",null,"ApplicationUser",-1),x=n(", to start with. Feel free to change this model or remove it entirely. Read "),B=n("Entity Models"),P=n(" for more information about creating a data model."),q=o("<li><p>Run <code>dotnet ef migrations add Init</code> (Init can be any name) in the data project to create an initial database migration.</p></li><li><p>Run Coalesce&#39;s code generation by either:</p><ul><li>Running <code>dotnet coalesce</code> in the web project&#39;s root directory</li><li>Running the <code>coalesce</code> npm script (Vue) or gulp task (Knockout) in the Task Runner Explorer</li></ul></li>",2),M=s("p",null,"You're now at a point where you can start creating your own pages!",-1),T=s("h2",{id:"building-pages-features",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#building-pages-features","aria-hidden":"true"},"#"),n(" Building Pages & Features")],-1),I=n("Lets say we've created a "),S=n("model"),V=n(" called "),j=s("code",null,"Person",-1),R=n(" as follows, and we've ran code generation with "),K=s("code",null,"dotnet coalesce",-1),W=n(":"),N=o(`<div class="language-c# ext-c# line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">namespace</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">MyApplication</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">Data</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">Models</span><span style="color:#D4D4D4;"> </span></span>
<span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">Person</span></span>
<span class="line"><span style="color:#D4D4D4;">    {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">int</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">PersonId</span><span style="color:#D4D4D4;"> { </span><span style="color:#569CD6;">get</span><span style="color:#D4D4D4;">; </span><span style="color:#569CD6;">set</span><span style="color:#D4D4D4;">; }</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">string</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">Name</span><span style="color:#D4D4D4;"> { </span><span style="color:#569CD6;">get</span><span style="color:#D4D4D4;">; </span><span style="color:#569CD6;">set</span><span style="color:#D4D4D4;">; }</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">DateTimeOffset</span><span style="color:#D4D4D4;">? </span><span style="color:#9CDCFE;">BirthDate</span><span style="color:#D4D4D4;"> { </span><span style="color:#569CD6;">get</span><span style="color:#D4D4D4;">; </span><span style="color:#569CD6;">set</span><span style="color:#D4D4D4;">; }</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We can create a details page for a Person by creating:</p><ul><li><p>A controller in <code>src/MyApplication.Web/Controllers/PersonController.cs</code>:</p><div class="language-c# ext-c# line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">namespace</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">MyApplication</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">Web</span><span style="color:#D4D4D4;">.</span><span style="color:#4EC9B0;">Controllers</span></span>
<span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">partial</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">PersonController</span></span>
<span class="line"><span style="color:#D4D4D4;">    {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">IActionResult</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">Details</span><span style="color:#D4D4D4;">() =&gt; </span><span style="color:#DCDCAA;">View</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>A view in <code>src/MyApplication.Web/Views/Person/Details.cshtml</code>:</p><div class="language-razor ext-razor line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">h1</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">Person Details</span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">h1</span><span style="color:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">div</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">data-bind</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;with: person&quot;</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">dl</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">class</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;dl-horizontal&quot;</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">dt</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">Name </span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">dt</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">dd</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">data-bind</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;text: name&quot;</span><span style="color:#808080;">&gt;&lt;/</span><span style="color:#569CD6;">dd</span><span style="color:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">dt</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">Date of Birth </span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">dt</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">dd</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">data-bind</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;moment: birthDate, format: &#39;MM/DD/YYYY hh:mm a&#39;&quot;</span><span style="color:#808080;">&gt;&lt;/</span><span style="color:#569CD6;">dd</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">dl</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">div</span><span style="color:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0;">@section</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">Scripts</span></span>
<span class="line"><span style="color:#C586C0;">{</span></span>
<span class="line"><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">script</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">src</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;~/js/person.details.js&quot;</span><span style="color:#808080;">&gt;&lt;/</span><span style="color:#569CD6;">script</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">script</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">$</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">function</span><span style="color:#D4D4D4;"> () {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">var</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">vm</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">new</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">MyApplication</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">PersonDetails</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">ko</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">applyBindings</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">vm</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">vm</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">load</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"><span style="color:#D4D4D4;">    });</span></span>
<span class="line"><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">script</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#C586C0;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>And a script in <code>src/MyApplication.Web/Scripts/person.details.ts</code>:</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#6A9955;">/// </span><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">reference</span><span style="color:#6A9955;"> </span><span style="color:#9CDCFE;">path</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;viewmodels.generated.d.ts&quot;</span><span style="color:#6A9955;"> </span><span style="color:#808080;">/&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">module</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">MyApplication</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">PersonDetails</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">public</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">person</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">new</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">ViewModels</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Person</span><span style="color:#D4D4D4;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#DCDCAA;">load</span><span style="color:#D4D4D4;">() {</span></span>
<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#569CD6;">var</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">id</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">Coalesce</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">Utilities</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">GetUrlParameter</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;id&quot;</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">id</span><span style="color:#D4D4D4;"> != </span><span style="color:#569CD6;">null</span><span style="color:#D4D4D4;"> &amp;&amp; </span><span style="color:#9CDCFE;">id</span><span style="color:#D4D4D4;"> != </span><span style="color:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;">) {</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">person</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">load</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">id</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#D4D4D4;">            }</span></span>
<span class="line"><span style="color:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>With these pieces in place, we now have a functioning page that will display details about a person. We can start up the application and navigate to <code>/Person/Details?id=1</code> (assuming a person with ID 1 exists - if not, navigate to <code>/Person/Table</code> and create one).</p>`,4),Y=n("From this point, one can start adding more fields, more features, and more flair to the page. Check out all the other documentation in the sidebar to see what else Coalesce has to offer, including the "),L=n("Knockout Overview"),J=n(".");function z(G,U){const p=t("ExternalLinkIcon"),l=t("RouterLink");return r(),i("div",null,[d,s("p",null,[s("a",y,[u,a(p)]),C,s("a",v,[m,a(p)])]),h,b,s("ul",null,[s("li",null,[s("p",null,[g,a(l,{to:"/modeling/model-types/entities.html"},{default:e(()=>[_]),_:1}),E,w,f,k,A,F,x,a(l,{to:"/modeling/model-types/entities.html"},{default:e(()=>[B]),_:1}),P])]),q]),M,T,s("p",null,[I,a(l,{to:"/modeling/model-types/entities.html"},{default:e(()=>[S]),_:1}),V,j,R,K,W]),N,s("p",null,[Y,a(l,{to:"/stacks/ko/overview.html"},{default:e(()=>[L]),_:1}),J])])}var O=c(D,[["render",z],["__file","getting-started.html.vue"]]);export{O as default};
